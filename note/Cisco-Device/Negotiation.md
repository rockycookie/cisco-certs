# Device Negotiation

| Negotiation Type                 | SW1 Config / SW2 Config                               | Result                      | Note                                                                                                             |
|----------------------------------|-------------------------------------------------------|-----------------------------|------------------------------------------------------------------------------------------------------------------|
| Switch port speed & duplex state | nothing / nothing                                     | select best compatible      |                                                                                                                  |
|                                  | nothing / configured                                  | try SW2 config              | only way to disable negotiation is to configure specific value                                                   |
| switchport mode                  | `access` / any except `trunk`                         | `access` mode               | `access` / `trunk` would break                                                                                   |
|                                  | `dynamic auto` / any                                  | whatever SW2 mode           | mode is `access` when SW2 is also `dynamic auto`                                                                 |
|                                  | `dynamic desirable` / any except `access`             | `trunk` mode                |                                                                                                                  |
|                                  | `trunk` / any except `access`                         | `trunk` mode                |                                                                                                                  |
| switchport trunk encapsulation   | support `isl` and `dot1q` / support `isl` and `dot1q` | encapsulation with `isl`    |                                                                                                                  |
|                                  | when one side does not support `isl`                  | encapsulation with `dot1q`  |                                                                                                                  |
| channel-group {num} mode         | `on` / `on`                                           | port joins the etherchannel |                                                                                                                  |
|                                  | `on` / any except `on`                                | break                       |                                                                                                                  |
|                                  | `passive` / `passive`                                 | port does NOT join          | only `active` port starts/init negotiation                                                                       |
|                                  | `passive` / `active`                                  | port joins the etherchannel | LACP; When negotiation (any of the {speed\|duplex\|trunk\|VLAN\|STP} checks) fails, link state change to  `down` |
|                                  | `auto` / `auto`                                       | port does NOT join          | only `desirabe` port starts/init negotiation                                                                     |
|                                  | `auto` / `desirable`                                  | port joins the etherchannel | PAgP; When negotiation (any of the {speed\|duplex\|trunk\|VLAN\|STP} checks) fails, link state change to  `down` |
